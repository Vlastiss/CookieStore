<div class="container mx-auto px-4 py-8">
  <h1 class="font-bold text-4xl mb-6">Order #<%= @order.id %></h1>

  <div class="bg-white shadow-md rounded-lg p-6 mb-6">
    <h2 class="text-2xl font-semibold mb-4">Order Details</h2>
    
    <div class="mb-4">
      <p class="text-gray-600"><strong>Customer:</strong> <%= @order.user.name %></p>
      <p class="text-gray-600"><strong>Email:</strong> <%= @order.user.email %></p>
      <p class="text-gray-600"><strong>Address:</strong> <%= @order.user.address %></p>
    </div>

    <div class="mb-4">
      <p class="text-gray-600"><strong>Delivery Option:</strong> <%= @order.delivery_option.name %> - $<%= @order.delivery_option.price %></p>
    </div>

    <div class="mb-4">
      <p class="text-gray-600"><strong>Total Price:</strong> <span class="text-2xl font-bold text-green-600">$<%= @order.total_price %></span></p>
    </div>

    <% if @order.payment.present? %>
      <div class="bg-green-50 border border-green-200 rounded p-4">
        <h3 class="text-xl font-semibold mb-2">Payment Information</h3>
        <p class="text-gray-700"><strong>Amount:</strong> $<%= @order.payment.amount %></p>
        <p class="text-gray-700"><strong>Status:</strong> <span class="uppercase font-semibold text-green-700"><%= @order.payment.status %></span></p>
        <p class="text-gray-700"><strong>Method:</strong> <%= @order.payment.payment_method.capitalize %></p>
      </div>
    <% end %>

    <% if @order.order_items.any? %>
      <div class="mt-6">
        <h3 class="text-xl font-semibold mb-4">Cookie Boxes</h3>
        <div class="space-y-4">
          <% @order.order_items.each_with_index do |box, index| %>
            <div class="border-2 border-gray-300 rounded-lg p-4 bg-gray-50">
              <div class="flex justify-between items-center mb-3">
                <h4 class="text-lg font-semibold text-gray-800">
                  Box #<%= index + 1 %> - <%= box.box_size.capitalize %>
                </h4>
                <span class="text-lg font-bold text-blue-600">$<%= box.box_price %></span>
              </div>
              
              <div class="bg-white rounded p-3">
                <p class="text-sm font-medium text-gray-600 mb-2">Box Contents (<%= box.capacity %> cookies):</p>
                <ul class="space-y-1">
                  <% box.box_cookies.each do |box_cookie| %>
                    <li class="flex justify-between text-sm">
                      <span class="text-gray-700">
                        <span class="font-medium"><%= box_cookie.cookie.name %></span>
                      </span>
                      <span class="text-gray-600">Ã— <%= box_cookie.quantity %></span>
                    </li>
                  <% end %>
                </ul>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="flex gap-4">
    <%= link_to "Back to Cookies", cookies_path, class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
  </div>
</div>
